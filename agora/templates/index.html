{% extends "base.html" %}
{% load humanize %}

{% block title %}
    Home - Agora
{% endblock title %}

{% block content %}
    <div class="hero bg-base-200 py-16 lg:py-32">
        <div class="hero-content max-w-6xl mx-auto flex-col gap-8">
            <!-- Hero Title Section -->
            <div class="text-center">
                {% if not has_signed_up %}
                    <h1 class="text-5xl font-bold">Get Started with Agora</h1>
                    <p class="py-6 text-balance max-w-3xl mx-auto">
                        Choose how you'd like to join Agora. Join our free waitlist or get instant access with a donation to support our mission.
                    </p>
                {% else %}
                    <h1 class="text-5xl font-bold">Thank you</h1>
                    <p class="py-6 text-balance">You're on the waitlist! We'll notify you when it's your turn to join.</p>
                {% endif %}
            </div>

            <!-- Options Cards Section -->
            <div class="w-full flex flex-col lg:flex-row gap-6 justify-center items-stretch max-w-4xl mx-auto">
                {% if has_signed_up %}
                    <div class="card bg-base-100 w-full shadow-2xl">
                        <div class="card-body flex flex-col gap-4">
                            <div class="text-center">
                                <div class="text-6xl mb-4">ðŸŽ‰</div>
                                <h3 class="text-xl font-bold mb-2">You're on the waitlist!</h3>
                                <a href="{% url 'signup_status' signup_id=signup_id %}"
                                   class="btn btn-primary">View Your Status</a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <!-- Donation Option -->
                    <div class="card bg-base-100 w-full lg:w-1/2 shadow-xl border-2 border-base-300">
                        <div class="card-body flex flex-col justify-between gap-4">
                            <div class="text-center">
                                <div class="text-4xl mb-2">âš¡</div>
                                <h3 class="text-xl font-bold mb-2">Get Instant Access</h3>
                                <p class="text-sm text-base-content/70 mb-4">Donate $10+ to support our mission</p>
                            </div>
                            <button class="btn btn-primary w-full">
                                <i data-lucide="heart" aria-hidden="true" class="w-5 h-5"></i>
                                Donate $10+ for Instant Access
                            </button>
                        </div>
                    </div>

                    <!-- Free Waitlist Option -->
                    <div class="card bg-base-100 w-full lg:w-1/2 shadow-xl border-2 border-base-300">
                        <div class="card-body flex flex-col justify-between gap-4">
                            <div class="text-center">
                                <div class="text-4xl mb-2">ðŸ“§</div>
                                <h3 class="text-xl font-bold mb-2">Join Free Waitlist</h3>
                                <p class="text-sm text-base-content/70 mb-4">Get notified when it's your turn to join</p>
                            </div>
                            <form method="post"
                                  action="{% url 'signup' %}"
                                  aria-label="Waitlist signup form">
                                {% csrf_token %}
                                <fieldset class="fieldset p-0">
                                    <legend class="sr-only">Waitlist signup form</legend>
                                    <label class="label">{{ form.email.label_tag }}</label>
                                    {{ form.email }}
                                    {% if form.email.errors %}
                                        <div class="label">
                                            <span class="label-text-alt text-error">{{ form.email.errors.0 }}</span>
                                        </div>
                                    {% endif %}
                                    <button class="btn btn-primary mt-4 w-full">Join Waitlist</button>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                {% endif %}
            </div>

            <!-- Privacy Policy -->
            {% if not has_signed_up %}
                <p class="text-xs text-base-content/70 text-center">
                    By signing up or joining the waitlist, you agree to our <a href="{% url 'home' %}" class="link link-primary">privacy policy</a>.
                </p>
            {% endif %}

            <!-- Waitlist Count -->
            {% if not has_signed_up and waiting_list_count > 10 %}
                <div class="flex items-center gap-2 justify-center">
                    <span class="text-sm text-base-content/70">
                        <i data-lucide="circle-user" aria-hidden="true" class="w-8 h-8"></i>
                    </span>
                    <p class="text-sm">Join {{ waiting_list_count|intcomma }}+ others on the waitlist</p>
                </div>
            {% endif %}
        </div>
    </div>
    <div class="container max-w-2xl mx-auto py-8 px-4 lg:py-16 flex flex-col gap-8">
        <h2 class="text-2xl font-bold">What is Agora?</h2>
        <p>
            The future of the internet requires trust, and that starts with identity. Agora is a Swiss non-profit creating a privacy-respecting alternative to today's log-in methods.
        </p>
        <p>
            By verifying your identity with us, you can prove you are a real person online without sharing sensitive information with every website you visit. Our service helps prevent fraud and provides a trusted online presence while protecting your privacy.
        </p>
    </div>
    <div class="container max-w-4xl mx-auto flex flex-col lg:flex-row gap-8">
        <div class="card bg-base-100 w-96">
            <div class="card-body">
                <h2 class="card-title">
                    <i data-lucide="fingerprint" aria-hidden="true" class="w-8 h-8"></i>
                    Verified Identity
                </h2>
                <p>Use your government ID to access websites without sharing personal details repeatedly.</p>
            </div>
        </div>
        <div class="card bg-base-100 w-96">
            <div class="card-body">
                <h2 class="card-title">
                    <i data-lucide="hat-glasses" aria-hidden="true" class="w-8 h-8"></i>
                    Privacy First
                </h2>
                <p>We are a non-profit committed to protecting your data, not selling it.</p>
            </div>
        </div>
        <div class="card bg-base-100 w-96">
            <div class="card-body">
                <h2 class="card-title">
                    <i data-lucide="id-card" aria-hidden="true" class="w-8 h-8"></i>
                    A New Standard
                </h2>
                <p>
                    Be part of a community building the next generation of online identityâ€”one that is secure, private, and yours to control.
                </p>
            </div>
        </div>
    </div>
    <div class="container max-w-2xl mx-auto px-4 py-8 lg:py-12">{% include "includes/faq.html" %}</div>
{% endblock content %}

{% block bodyEndScripts %}
{% endblock bodyEndScripts %}
